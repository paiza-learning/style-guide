# 01. 変数

変数の利用に関する規約です.

## [推奨] 不必要なグローバル変数は避ける

不必要なグローバル変数は用いません. 不用意なグローバル変数の多用は避けるべきです.

ただし, この規約は単一ファイルのコードに対するものであるため, この縛りは他のものより弱いものと捉えてください. 必要だと判断した場合は利用します.

### [許容] `constexpr` 等はグローバルに置くとよい

`constexpr` なものなどはグローバルで構いません.

```c++
constexpr int mod = 7; // ok
int main() {
  /* ... */
  return 0;
}
```

### [許容] グローバル変数として利用したい場合には, 解説にその旨を記載した上で利用してよい

例えば, 10^9 ~ 程度の大きさの配列を用意する必要がある場合, ローカルに配列を取ろうとするとスタック領域が溢れ, また `std::vector` で取ろうとすると時間制限にかかるなどのことが考えられます.

その様な場合には, 「静的領域にあらかじめ取っておきたい」などの **[強制] 理由を解説に明記した上で** 利用して良いとします.

## [推奨] 変数は必要な箇所で宣言する

- C++ では C のように関数の先頭で各種変数を宣言するなどの配慮が特に必要ない
- 変数の初期化と宣言が近くなる.
  - その部分だけを切り出して見たときに都合がよい.

```c++
int n, m;
cin >> n >> m;

string s;
cin >> s;

vector<int> v(m);
for (auto i = 0; i < n; i++) {
  int tmp;
  cin >> tmp;
  v[tmp % m]++;
}
```

## [推奨] 変数のスコープは小さくする

```c++
int i, j;
for (i = 0, j = 0; i + j < n; i++, j += 2) { /* ... */ }
// 以降で i, j を用いていない
```

よりも

```c++
for (int i = 0, j = 0; i + j < n; i++, j += 2) { /* ... */ }
```

のようにかけるならそのようにしてください。

## [許容] std 名前空間に用意されている変数と同名のローカル変数を使ってもよい

例えば std 名前空間には `std::left`, `std::right` があるが、

```c++
int left = 10;
string right = "right";
```

のようにしてよい
